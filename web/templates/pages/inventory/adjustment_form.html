{{ define "pages/inventory/adjustment_form.html" }}
{{ template "layouts/base.html" . }}
{{ end }}

{{ define "title" }}Stock Adjustments{{ end }}

{{ define "content" }}
<div class="adjustments-wrapper">
    <header>
        <h1>Stock Adjustments</h1>
        <p>Adjust inventory stock levels manually</p>
    </header>

    <form method="post" action="/inventory/adjustments">
        <input type="hidden" name="csrf_token" value="{{ .CSRFToken }}">

        <section>
            <fieldset>
                <legend>Adjustment Details</legend>
                <div class="grid">
                    <div>
                        <label for="code">Code (optional)</label>
                        <input type="text" name="code" id="code" value="{{ .Data.Form.Code }}" class="input">
                    </div>
                    <div>
                        <label for="warehouse_id">Warehouse *</label>
                        <select name="warehouse_id" id="warehouse_id" class="input" required>
                            <option value="">Select Warehouse</option>
                            <!-- Warehouses would be populated here -->
                        </select>
                        {{ if .Data.Errors.warehouse_id }}
                        <small class="error">{{ .Data.Errors.warehouse_id }}</small>
                        {{ end }}
                    </div>
                    <div>
                        <label for="product_id">Product *</label>
                        <select name="product_id" id="product_id" class="input" required>
                            <option value="">Select Product</option>
                            <!-- Products would be populated here -->
                        </select>
                        {{ if .Data.Errors.product_id }}
                        <small class="error">{{ .Data.Errors.product_id }}</small>
                        {{ end }}
                    </div>
                    <div>
                        <label for="qty">Quantity *</label>
                        <input type="number" name="qty" id="qty" step="0.01" value="{{ .Data.Form.Qty }}" class="input" required>
                        {{ if .Data.Errors.qty }}
                        <small class="error">{{ .Data.Errors.qty }}</small>
                        {{ end }}
                    </div>
                    <div>
                        <label for="unit_cost">Unit Cost</label>
                        <input type="number" name="unit_cost" id="unit_cost" step="0.01" value="{{ .Data.Form.UnitCost }}" class="input">
                        {{ if .Data.Errors.unit_cost }}
                        <small class="error">{{ .Data.Errors.unit_cost }}</small>
                        {{ end }}
                    </div>
                    <div>
                        <label for="note">Note</label>
                        <textarea name="note" id="note" class="input">{{ .Data.Form.Note }}</textarea>
                    </div>
                </div>
            </fieldset>
        </section>

        <section>
            <div role="group">
                <button type="submit" class="btn btn--primary">Post Adjustment</button>
                <a href="/inventory/adjustments" role="button" class="btn btn--secondary">Cancel</a>
            </div>
            {{ if .Data.Errors.general }}
            <p class="error">{{ .Data.Errors.general }}</p>
            {{ end }}
        </section>
    </form>
</div>
{{ end }}
