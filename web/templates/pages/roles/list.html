{{ define "pages/roles/list.html" }}
{{ template "layouts/base.html" . }}
{{ end }}

{{ define "title" }}Roles Management{{ end }}

{{ define "content" }}
<section class="container page-roles">
    <header class="page-header">
        <h1>Roles Management</h1>
        <p class="text-muted">Manage system roles and permissions assignments</p>
    </header>

    {{ if .Data.Errors }}
    <div class="alert alert--error" role="alert">
        {{ index .Data.Errors "general" }}
    </div>
    {{ end }}

    <div class="table-wrap" data-component="datatable">
        <table class="data-table" data-datatable="roles">
            <thead>
                <tr>
                    <th scope="col" class="sortable" data-column="id" {{ if eq .Data.Filters.SortBy "id"
                        }}data-sort-dir="{{ .Data.Filters.SortDir }}" {{ end }}>
                        ID
                        {{ if eq .Data.Filters.SortBy "id" }}
                        <span class="sort-icon">{{ if eq .Data.Filters.SortDir "asc" }}↑{{ else }}↓{{ end }}</span>
                        {{ end }}
                    </th>
                    <th scope="col" class="sortable" data-column="name" {{ if eq .Data.Filters.SortBy "name"
                        }}data-sort-dir="{{ .Data.Filters.SortDir }}" {{ end }}>
                        Name
                        {{ if eq .Data.Filters.SortBy "name" }}
                        <span class="sort-icon">{{ if eq .Data.Filters.SortDir "asc" }}↑{{ else }}↓{{ end }}</span>
                        {{ end }}
                    </th>
                    <th scope="col">Description</th>
                    <th scope="col" class="sortable" data-column="created_at" {{ if eq .Data.Filters.SortBy "created_at"
                        }}data-sort-dir="{{ .Data.Filters.SortDir }}" {{ end }}>
                        Created
                        {{ if eq .Data.Filters.SortBy "created_at" }}
                        <span class="sort-icon">{{ if eq .Data.Filters.SortDir "asc" }}↑{{ else }}↓{{ end }}</span>
                        {{ end }}
                    </th>
                </tr>
            </thead>
            <tbody>
                {{ range .Data.Roles }}
                <tr data-id="{{ .ID }}">
                    <td>{{ .ID }}</td>
                    <td><code>{{ .Name }}</code></td>
                    <td>{{ .Description }}</td>
                    <td>{{ .CreatedAt.Format "2006-01-02" }}</td>
                </tr>
                {{ else }}
                <tr>
                    <td colspan="4" class="text-center text-muted">No roles found</td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>
</section>
{{ end }}